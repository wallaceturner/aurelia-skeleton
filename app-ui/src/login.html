<template>
  <div class="container">
    <div class="row">
      <div class="col-sm-6 col-sm-offset-3">
        <br>
        <br>
        <form submit.delegate="login()">
          <input type="hidden" name="_csrf" value="TwGraGvb-FU3_8vLjWzAqRjzMJceuvTb13XY">
          <legend>Sign In</legend>
          <!-- <div class="form-group">
            <a href="/auth/facebook" class="btn btn-block btn-social btn-facebook btn-lg">
              <i class="fa fa-fw fa-facebook"></i>&nbsp;Sign in with Facebook</a>
            <a href="/auth/twitter" class="btn btn-block btn-social btn-twitter btn-lg">
              <i class="fa fa-fw fa-twitter"></i>&nbsp;Sign in with Twitter</a>
            <a href="/auth/github" class="btn btn-block btn-social btn-github btn-lg">
              <i class="fa fa-fw fa-github"></i>&nbsp;Sign in with GitHub</a>
            <a href="/auth/google" class="btn btn-block btn-social btn-google-plus btn-lg">
              <i class="fa fa-fw fa-google-plus"></i>&nbsp;Sign in with Google</a>
          </div> -->
          
          <div class="panel panel-default">
            <div class="panel-heading panel-button">
              <div class="alert alert-danger" show.bind="!loggingIn && loginResult && !loginResult.success">
                  <ul>
                    <li repeat.for="error of loginResult.errors">
                        <span>${error}</span>
                    </li>
                  </ul>
              </div>
              <div class="alert alert-success" show.bind="loginResult.success">
                <p>Logged in successfully! </p>
                <p><i class="fa fa-spinner fa-spin"></i> Redirecting to Dashboard...</p>
            </div>
            </div>
            <div id="collapseOne" class="panel-collapse collapse in" aria-expanded="true" style="">
              <div class="panel-body">
                <div class="form-group">
                  <label for="email" class="sr-only">Email:</label>
                  <input type="email" name="email" id="email" placeholder="Email" autofocus="" required="" class="form-control" value.bind="email">
                </div>
                <div class="form-group">
                  <label for="password" class="sr-only">Password:</label>
                  <input type="password" name="password" id="password" placeholder="Password" autocomplete="off" required="" class="form-control" value.bind="password">
                </div>
                <div class="form-group">
                  <button type="submit" class="btn btn-primary" disabled.bind="loggingIn"><i class="fa ${loggingIn ? 'fa-spinner fa-spin': 'fa-unlock-alt'}"></i>&nbsp;Login</button>&nbsp;
                  <a route-href="route: forgot;" class="btn btn-link">Forget your password?</a>
                </div>
              </div>
            </div>
          </div>
          <p>Not Registered?&nbsp;&nbsp;
            <a route-href="route: signup;" class="btn btn-success">
              <i class="fa fa-check"></i>&nbsp;Sign Up</a>
          </p>
          
        </form>
        <hr>
        <p class="text-muted">
          <em>I accept the Aurelia Skeleton
            <a href="/terms"> Terms of Use</a> and
            <a href="/privacy"> Privacy Policy.</a>
          </em>
        </p>
      </div>
    </div>
  </div>
</template>
